<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="https://www.thymeleaf.org">
<head>
    <title th:text="${title}"></title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <link rel="stylesheet " href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css">
</head>
<body>
<div th:if="${permission}">
    <div th:include="~{block/nav2 :: foremanNav}"/>
</div>
<div th:unless="${permission}">
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
        <div class="container-fluid">


            <form th:action="@{/logout}" method="post">
                <input type="submit" value="Sign Out"/>
            </form>
        </div>
    </nav>
</div>
<section class="vh-100">
    <div class="row">
        <div class="col-lg-4 card box-shadow">
            <div style="display: flex;">
                <h1 style="display:block">Должность:</h1>
                <H1 style="display:block" th:text="${employee.jobTitle}"></h1>
            </div>
            <div style="display: flex;">
                <h2 style="display:block">Бригада:</h2>
                <h2 th:text="${employee.brigade.name}"/>
            </div>
            <div style="display: flex;">
                <h2 style="display:block">Фамилия:</h2>
                <h2 th:text="${employee.surname}"/>
            </div>
            <div style="display: flex;">
                <h2 style="display:block">Имя:</h2>
                <h2 th:text="${employee.name}"/>
            </div>
            <div style="display: flex;">
                <h2 style="display:block">Отчество:</h2>
                <h2 th:text="${employee.patronymic}"/>
            </div>
        </div>

        <div class="col-lg-4 card box-shadow">
            <img class='img-thumbnail' th:src="'data:image/jpeg;base64,' + ${employee.getProfilePicture()}"/>
        </div>
    </div>
    <p>заработал</p>
    <p th:text="${earned}"></p>

    <div class="col-lg-4 card box-shadow">
        <div th:each="work :${employee.workEmployees}">
            <p th:text="${work.productWorkOrder.sqlDate}"></p>
            <p th:text="${work.work.name}"></p>
        </div>
    </div>

    <div class="col-lg-4 card box-shadow">

    </div>
    <p>Расписание</p>
    <div class="row row-cols-1 row-cols-sm-2 row-cols-md-2 g-2">
        <div th:each="sh :${schedule}">

            <div>
                <div th:if="${employeeSchedule.contains(sh)}" style="background: red">
                    <p th:text="${sh.getDate()}"></p>
                    <p th:text="${sh.isDay()} ? 'Day' : 'Night'"/>
                    <div th:if="${permission}">
                        <form th:action="@{/Brigadier/Employee/Schedule/{idSchedule}/{idEmployee}(idSchedule=${sh.id},idEmployee=${employee.id})}"
                              method="get">
                            <input type="submit" th:text="выбрать">
                        </form>
                    </div>
                </div>
                <div th:unless="${employeeSchedule.contains(sh)}">
                    <p th:text="${sh.getDate()}"></p>
                    <p th:text="${sh.isDay()} ? 'Day' : 'Night'"/>
                    <div th:if="${permission}">
                        <form th:action="@{/Brigadier/Employee/Schedule/{idSchedule}/{idEmployee}(idSchedule=${sh.id},idEmployee=${employee.id})}"
                              method="get">
                            <input type="submit" th:text="выбрать">
                        </form>
                    </div>
                </div>

            </div>
        </div>
    </div>


</section>
